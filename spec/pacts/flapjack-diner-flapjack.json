{
  "consumer": {
    "name": "flapjack-diner"
  },
  "provider": {
    "name": "flapjack"
  },
  "interactions": [
    {
      "description": "a POST request with one check",
      "provider_state": "no check exists",
      "request": {
        "method": "post",
        "path": "/checks",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "checks": {
              "id": "1ed80833-6d28-4aba-8603-d81c249b8c23",
              "name": "www.example.com:SSH",
              "enabled": true,
              "type": "check"
            }
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "data": {
            "checks": {
              "id": "1ed80833-6d28-4aba-8603-d81c249b8c23",
              "name": "www.example.com:SSH",
              "enabled": true
            }
          }
        }
      }
    },
    {
      "description": "a POST request with two checks",
      "provider_state": "no check exists",
      "request": {
        "method": "post",
        "path": "/checks",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "checks": [
              {
                "id": "1ed80833-6d28-4aba-8603-d81c249b8c23",
                "name": "www.example.com:SSH",
                "enabled": true,
                "type": "check"
              },
              {
                "id": "29e913cf-29ea-4ae5-94f6-7069cf4a1514",
                "name": "www2.example.com:PING",
                "enabled": true,
                "type": "check"
              }
            ]
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "data": {
            "checks": [
              {
                "id": "1ed80833-6d28-4aba-8603-d81c249b8c23",
                "name": "www.example.com:SSH",
                "enabled": true,
                "type": "check"
              },
              {
                "id": "29e913cf-29ea-4ae5-94f6-7069cf4a1514",
                "name": "www2.example.com:PING",
                "enabled": true,
                "type": "check"
              }
            ]
          }
        }
      }
    },
    {
      "description": "a POST request with one medium",
      "provider_state": "no medium exists",
      "request": {
        "method": "post",
        "path": "/media",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "media": {
              "id": "e2e09943-ed6c-476a-a8a5-ec165426f298",
              "transport": "sms",
              "address": "0123456789",
              "interval": 300,
              "rollup_threshold": 5,
              "type": "medium"
            }
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "data": {
            "media": {
              "id": "e2e09943-ed6c-476a-a8a5-ec165426f298",
              "transport": "sms",
              "address": "0123456789",
              "interval": 300,
              "rollup_threshold": 5,
              "type": "medium"
            }
          }
        }
      }
    },
    {
      "description": "a POST request with two media",
      "provider_state": "no medium exists",
      "request": {
        "method": "post",
        "path": "/media",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "media": [
              {
                "id": "e2e09943-ed6c-476a-a8a5-ec165426f298",
                "transport": "sms",
                "address": "0123456789",
                "interval": 300,
                "rollup_threshold": 5,
                "type": "medium"
              },
              {
                "id": "9156de3c-ddc6-4637-b1cc-bd035fd61dd3",
                "transport": "email",
                "address": "ablated@example.org",
                "interval": 180,
                "rollup_threshold": 3,
                "type": "medium"
              }
            ]
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "data": {
            "media": [
              {
                "id": "e2e09943-ed6c-476a-a8a5-ec165426f298",
                "transport": "sms",
                "address": "0123456789",
                "interval": 300,
                "rollup_threshold": 5,
                "type": "medium"
              },
              {
                "id": "9156de3c-ddc6-4637-b1cc-bd035fd61dd3",
                "transport": "email",
                "address": "ablated@example.org",
                "interval": 180,
                "rollup_threshold": 3,
                "type": "medium"
              }
            ]
          }
        }
      }
    },
    {
      "description": "a POST request with one scheduled maintenance period",
      "provider_state": "no scheduled maintenance period exists",
      "request": {
        "method": "post",
        "path": "/scheduled_maintenances",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "scheduled_maintenances": {
              "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
              "start_time": "2015-03-24T17:06:12+10:30",
              "end_time": "2015-03-24T18:06:12+10:30",
              "summary": "working",
              "type": "scheduled_maintenance"
            }
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        },
        "body": {
          "data": {
            "scheduled_maintenances": {
              "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
              "start_time": "2015-03-24T17:06:12+10:30",
              "end_time": "2015-03-24T18:06:12+10:30",
              "summary": "working",
              "type": "scheduled_maintenance"
            }
          }
        }
      }
    },
    {
      "description": "a POST request with two scheduled maintenance periods",
      "provider_state": "no scheduled maintenance period exists",
      "request": {
        "method": "post",
        "path": "/scheduled_maintenances",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "scheduled_maintenances": [
              {
                "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
                "start_time": "2015-03-24T17:06:12+10:30",
                "end_time": "2015-03-24T18:06:12+10:30",
                "summary": "working",
                "type": "scheduled_maintenance"
              },
              {
                "id": "5a84c82b-0acb-4703-a27e-0b0db50b298a",
                "start_time": "2015-03-24T19:06:12+10:30",
                "end_time": "2015-03-24T20:06:12+10:30",
                "summary": "working",
                "type": "scheduled_maintenance"
              }
            ]
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        },
        "body": {
          "data": {
            "scheduled_maintenances": [
              {
                "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
                "start_time": "2015-03-24T17:06:12+10:30",
                "end_time": "2015-03-24T18:06:12+10:30",
                "summary": "working",
                "type": "scheduled_maintenance"
              },
              {
                "id": "5a84c82b-0acb-4703-a27e-0b0db50b298a",
                "start_time": "2015-03-24T19:06:12+10:30",
                "end_time": "2015-03-24T20:06:12+10:30",
                "summary": "working",
                "type": "scheduled_maintenance"
              }
            ]
          }
        }
      }
    },
    {
      "description": "a POST request with one unscheduled maintenance period",
      "provider_state": "no unscheduled maintenance period exists",
      "request": {
        "method": "post",
        "path": "/unscheduled_maintenances",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "unscheduled_maintenances": {
              "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
              "end_time": "2015-03-24T18:06:12+10:30",
              "summary": "working",
              "type": "unscheduled_maintenance"
            }
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        },
        "body": {
          "data": {
            "unscheduled_maintenances": {
              "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
              "end_time": "2015-03-24T18:06:12+10:30",
              "summary": "working",
              "type": "unscheduled_maintenance"
            }
          }
        }
      }
    },
    {
      "description": "a POST request with two unscheduled maintenance periods",
      "provider_state": "no unscheduled maintenance period exists",
      "request": {
        "method": "post",
        "path": "/unscheduled_maintenances",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "unscheduled_maintenances": [
              {
                "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
                "end_time": "2015-03-24T18:06:12+10:30",
                "summary": "working",
                "type": "unscheduled_maintenance"
              },
              {
                "id": "41895714-9b77-48a9-a373-5f6005b1ce95",
                "end_time": "2015-03-24T18:36:12+10:30",
                "summary": "partly working",
                "type": "unscheduled_maintenance"
              }
            ]
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        },
        "body": {
          "data": {
            "unscheduled_maintenances": [
              {
                "id": "9b7a7af4-8251-4216-8e86-2d4068447ae4",
                "end_time": "2015-03-24T18:06:12+10:30",
                "summary": "working",
                "type": "unscheduled_maintenance"
              },
              {
                "id": "41895714-9b77-48a9-a373-5f6005b1ce95",
                "end_time": "2015-03-24T18:36:12+10:30",
                "summary": "partly working",
                "type": "unscheduled_maintenance"
              }
            ]
          }
        }
      }
    },
    {
      "description": "a POST request with one contact",
      "provider_state": "a contact exists",
      "request": {
        "method": "post",
        "path": "/contacts",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "contacts": {
              "id": "c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
              "name": "Jim Smith",
              "timezone": "UTC",
              "type": "contact"
            }
          }
        }
      },
      "response": {
        "status": 403,
        "headers": {
          "Content-Type": "application/vnd.api+json; supported-ext=bulk; charset=utf-8"
        },
        "body": {
          "errors": [
            {
              "status": "403",
              "detail": "Contacts already exist with the following ids: c248da6f-ab16-4ce3-9b32-afd4e5f5270e"
            }
          ]
        }
      }
    },
    {
      "description": "a POST request with one contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "post",
        "path": "/contacts",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "contacts": {
              "id": "c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
              "name": "Jim Smith",
              "timezone": "UTC",
              "type": "contact"
            }
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; supported-ext=bulk; charset=utf-8"
        },
        "body": {
          "data": {
            "contacts": {
              "id": "c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
              "name": "Jim Smith",
              "timezone": "UTC",
              "type": "contact"
            }
          }
        }
      }
    },
    {
      "description": "a POST request with two contacts",
      "provider_state": "no contact exists",
      "request": {
        "method": "post",
        "path": "/contacts",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "data": {
            "contacts": [
              {
                "id": "c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
                "name": "Jim Smith",
                "timezone": "UTC",
                "type": "contact"
              },
              {
                "id": "ff41bfbb-0d04-45e3-a4d2-579ed1655fb8",
                "name": "Joan Smith",
                "type": "contact"
              }
            ]
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; supported-ext=bulk; charset=utf-8"
        },
        "body": {
          "data": {
            "contacts": [
              {
                "id": "c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
                "name": "Jim Smith",
                "timezone": "UTC",
                "type": "contact"
              },
              {
                "id": "ff41bfbb-0d04-45e3-a4d2-579ed1655fb8",
                "name": "Joan Smith",
                "type": "contact"
              }
            ]
          }
        }
      }
    },
    {
      "description": "a DELETE request for a single contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "delete",
        "path": "/contacts/c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
        "body": null
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            {
              "status": "404",
              "detail": "could not find Contact records, ids: 'c248da6f-ab16-4ce3-9b32-afd4e5f5270e'"
            }
          ]
        }
      }
    },
    {
      "description": "a DELETE request for a single contact",
      "provider_state": "a contact exists",
      "request": {
        "method": "delete",
        "path": "/contacts/c248da6f-ab16-4ce3-9b32-afd4e5f5270e",
        "body": null
      },
      "response": {
        "status": 204,
        "headers": {
        },
        "body": ""
      }
    },
    {
      "description": "a DELETE request for two contacts",
      "provider_state": "two contacts exist",
      "request": {
        "method": "delete",
        "path": "/contacts/c248da6f-ab16-4ce3-9b32-afd4e5f5270e,ff41bfbb-0d04-45e3-a4d2-579ed1655fb8",
        "body": null
      },
      "response": {
        "status": 204,
        "headers": {
        },
        "body": ""
      }
    }
  ],
  "metadata": {
    "pactSpecificationVersion": "1.0.0"
  }
}
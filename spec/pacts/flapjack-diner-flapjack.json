{
  "provider": {
    "name": "flapjack"
  },
  "consumer": {
    "name": "flapjack-diner"
  },
  "interactions": [
    {
      "description": "a PATCH request for a single check",
      "provider_state": "no entity exists",
      "request": {
        "method": "patch",
        "path": "/checks/www.example.com:SSH",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "replace",
            "path": "/checks/0/enabled",
            "value": false
          }
        ]
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            "could not find entity 'www.example.com'"
          ]
        }
      }
    },
    {
      "description": "a PATCH request for a single check",
      "provider_state": "a check 'www.example.com:SSH' exists",
      "request": {
        "method": "patch",
        "path": "/checks/www.example.com:SSH",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "replace",
            "path": "/checks/0/enabled",
            "value": false
          }
        ]
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a GET request for check 'www.example.com:SSH'",
      "provider_state": "no entity exists",
      "request": {
        "method": "get",
        "path": "/checks/www.example.com:SSH"
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            "could not find entity checks: 'www.example.com:SSH'"
          ]
        }
      }
    },
    {
      "description": "a GET request for check 'www.example.com:SSH'",
      "provider_state": "a check 'www.example.com:SSH' exists",
      "request": {
        "method": "get",
        "path": "/checks/www.example.com:SSH"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "checks": [
            {
              "id": "www.example.com:SSH",
              "name": "SSH",
              "entity_name": "www.example.com",
              "links": {
                "entities": [
                  "1234"
                ]
              }
            }
          ]
        }
      }
    },
    {
      "description": "a GET request for all checks",
      "provider_state": "a check 'www.example.com:SSH' exists",
      "request": {
        "method": "get",
        "path": "/checks"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "checks": [
            {
              "id": "www.example.com:SSH",
              "name": "SSH",
              "entity_name": "www.example.com",
              "links": {
                "entities": [
                  "1234"
                ]
              }
            }
          ]
        }
      }
    },
    {
      "description": "a GET request for all checks",
      "provider_state": "no entity exists",
      "request": {
        "method": "get",
        "path": "/checks"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "checks": [

          ]
        }
      }
    },
    {
      "description": "a POST request with two checks",
      "provider_state": "an entity 'www.example.com' with id '1234' exists",
      "request": {
        "method": "post",
        "path": "/checks",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "checks": [
            {
              "name": "SSH",
              "entity_id": "1234"
            },
            {
              "name": "PING",
              "entity_id": "1234"
            }
          ]
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": [
          "www.example.com:SSH",
          "www.example.com:PING"
        ]
      }
    },
    {
      "description": "a POST request with one check",
      "provider_state": "an entity 'www.example.com' with id '1234' exists",
      "request": {
        "method": "post",
        "path": "/checks",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "checks": [
            {
              "name": "PING",
              "entity_id": "1234"
            }
          ]
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": [
          "www.example.com:PING"
        ]
      }
    },
    {
      "description": "a GET request for a single contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "get",
        "path": "/contacts/abc"
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            "could not find entity checks: 'www.example.com:SSH'"
          ]
        }
      }
    },
    {
      "description": "a GET request for a single contact",
      "provider_state": "a contact with id 'abc' exists",
      "request": {
        "method": "get",
        "path": "/contacts/abc"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "contacts": [
            {
              "id": "abc",
              "first_name": "Jim",
              "last_name": "Smith",
              "email": "jims@example.com",
              "timezone": "UTC",
              "tags": [
                "admin",
                "night_shift"
              ]
            }
          ]
        }
      }
    },
    {
      "description": "a GET request for all contacts",
      "provider_state": "no contact exists",
      "request": {
        "method": "get",
        "path": "/contacts"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "contacts": [

          ]
        }
      }
    },
    {
      "description": "a GET request for all contacts",
      "provider_state": "a contact with id 'abc' exists",
      "request": {
        "method": "get",
        "path": "/contacts"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "contacts": [
            {
              "id": "abc",
              "first_name": "Jim",
              "last_name": "Smith",
              "email": "jims@example.com",
              "timezone": "UTC",
              "tags": [
                "admin",
                "night_shift"
              ]
            }
          ]
        }
      }
    },
    {
      "description": "a PATCH request to change properties for two contacts",
      "provider_state": "contacts with ids 'abc' and '872' exist",
      "request": {
        "method": "patch",
        "path": "/contacts/abc,872",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "replace",
            "path": "/contacts/0/timezone",
            "value": "UTC"
          }
        ]
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a PATCH requestto change a link for a single contact",
      "provider_state": "a contact with id '872' exists",
      "request": {
        "method": "patch",
        "path": "/contacts/872",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "add",
            "path": "/contacts/0/links/entities/-",
            "value": "1234"
          }
        ]
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a PATCH request to change properties for a single contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "patch",
        "path": "/contacts/323",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "replace",
            "path": "/contacts/0/timezone",
            "value": "UTC"
          }
        ]
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            "could not find contact '323'"
          ]
        }
      }
    },
    {
      "description": "a PATCH request to change links for two contacts",
      "provider_state": "contacts with ids 'abc' and '872' exist",
      "request": {
        "method": "patch",
        "path": "/contacts/abc,872",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "add",
            "path": "/contacts/0/links/entities/-",
            "value": "1234"
          }
        ]
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a PATCH request to change properties for a single contact",
      "provider_state": "a contact with id 'abc' exists",
      "request": {
        "method": "patch",
        "path": "/contacts/abc",
        "headers": {
          "Content-Type": "application/json-patch+json"
        },
        "body": [
          {
            "op": "replace",
            "path": "/contacts/0/timezone",
            "value": "UTC"
          }
        ]
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a DELETE request for a single contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "delete",
        "path": "/contacts/abc",
        "body": null
      },
      "response": {
        "status": 404,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": {
          "errors": [
            "could not find contact 'abc'"
          ]
        }
      }
    },
    {
      "description": "a DELETE request for two contacts",
      "provider_state": "contacts with ids 'abc' and '872' exist",
      "request": {
        "method": "delete",
        "path": "/contacts/abc,872",
        "body": null
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a DELETE request for a single contact",
      "provider_state": "a contact with id 'abc' exists",
      "request": {
        "method": "delete",
        "path": "/contacts/abc",
        "body": null
      },
      "response": {
        "status": 204,
        "body": ""
      }
    },
    {
      "description": "a POST request with two contacts",
      "provider_state": "no contact exists",
      "request": {
        "method": "post",
        "path": "/contacts",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "contacts": [
            {
              "id": "abc",
              "first_name": "Jim",
              "last_name": "Smith",
              "email": "jims@example.com",
              "timezone": "UTC",
              "tags": [
                "admin",
                "night_shift"
              ]
            },
            {
              "id": "def",
              "first_name": "Joan",
              "last_name": "Smith",
              "email": "joans@example.com"
            }
          ]
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": [
          "abc",
          "def"
        ]
      }
    },
    {
      "description": "a POST request with one contact",
      "provider_state": "no contact exists",
      "request": {
        "method": "post",
        "path": "/contacts",
        "headers": {
          "Content-Type": "application/vnd.api+json"
        },
        "body": {
          "contacts": [
            {
              "id": "abc",
              "first_name": "Jim",
              "last_name": "Smith",
              "email": "jims@example.com",
              "timezone": "UTC",
              "tags": [
                "admin",
                "night_shift"
              ]
            }
          ]
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/vnd.api+json; charset=utf-8"
        },
        "body": [
          "abc"
        ]
      }
    }
  ],
  "metadata": {
    "pactSpecificationVersion": "1.0.0"
  }
}